<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–∞ –Ω–∞ —Ö–æ–∫–∫–µ–π–Ω—É—é –∏–≥—Ä—É">
    <meta name="theme-color" content="#1a1a2e">
    <title>–•–æ–∫–∫–µ–π–Ω—ã–π –°–æ—Å—Ç–∞–≤</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/png" href="icon-192.png">
</head>
<body>
    <div class="container">
        <header>
            <h1>üèí –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–∞</h1>
            <div class="header-actions">
                <button id="addPlayerBtn" class="btn btn-primary">+ –î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä–æ–∫–∞</button>
                <button id="saveAsJpegBtn" class="btn btn-success" style="display: none;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ JPEG</button>
            </div>
        </header>

        <main>
            <!-- –°–ø–∏—Å–æ–∫ –∏–≥—Ä (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –Ω–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∏–≥—Ä—ã) -->
            <div id="gamesSection" class="games-section" style="display: block;">
                <h2>–ò–≥—Ä—ã</h2>
                <button id="newGameBtn" class="btn btn-primary" style="width: 100%; margin-bottom: 15px;">+ –ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
                <div id="gamesList" class="games-list">
                    <!-- –°–ø–∏—Å–æ–∫ –∏–≥—Ä –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>

            <!-- –†–∞–±–æ—Ç–∞ —Å —Ç–µ–∫—É—â–µ–π –∏–≥—Ä–æ–π -->
            <div id="gameWorkSection" class="game-work-section" style="display: none;">
                <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–≥—Ä–µ -->
                <div id="gameInfo" class="game-info">
                    <div class="game-header">
                        <input type="text" id="gameTitle" class="game-title-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∏–≥—Ä—ã">
                        <div class="game-meta">
                            <input type="date" id="gameDate" class="game-date-input">
                            <input type="time" id="gameTime" class="game-time-input" placeholder="–í—Ä–µ–º—è">
                            <input type="text" id="gameStadium" class="game-stadium-input" placeholder="–°—Ç–∞–¥–∏–æ–Ω">
                            <input type="text" id="gameScore" class="game-score-input" placeholder="–°—á–µ—Ç">
                            <button id="backToGamesBtn" class="btn btn-secondary">‚Üê –ö —Å–ø–∏—Å–∫—É –∏–≥—Ä</button>
                        </div>
                    </div>
                </div>

                <!-- –≠—Ç–∞–ø 1: –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≥–æ—Ç–æ–≤—ã—Ö (–ö–æ–º–∞–Ω–¥–∞ + –ì–æ—Ç–æ–≤—ã–µ –∏–≥—Ä–∞—Ç—å) -->
                <div id="stage1Section" class="stage-section" style="display: none;">
                    <div class="two-columns-layout">
                        <!-- –ö–æ–ª–æ–Ω–∫–∞ 1: –ö–æ–º–∞–Ω–¥–∞ -->
                        <section class="team-column">
                            <h2>–ö–æ–º–∞–Ω–¥–∞</h2>
                            <div id="teamList" class="team-list">
                                <!-- –ò–≥—Ä–æ–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                        </section>

                        <!-- –ö–æ–ª–æ–Ω–∫–∞ 2: –ì–æ—Ç–æ–≤—ã–µ –∏–≥—Ä–∞—Ç—å -->
                        <section class="ready-column">
                            <h2>–ì–æ—Ç–æ–≤—ã–µ –∏–≥—Ä–∞—Ç—å <span id="readyCount">0/16</span></h2>
                            <div id="readyPlayersList" class="ready-players-list">
                                <!-- 16 –ø–æ–∑–∏—Ü–∏–π –¥–ª—è –≥–æ—Ç–æ–≤—ã—Ö –∏–≥—Ä–∞—Ç—å -->
                            </div>
                            <button id="toLineupStageBtn" class="btn btn-primary" style="width: 100%; margin-top: 15px;">‚Üí –î–∞–ª–µ–µ –∫ —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–µ</button>
                        </section>
                    </div>
                </div>

                <!-- –≠—Ç–∞–ø 2: –†–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∞ (–ì–æ—Ç–æ–≤—ã–µ –∏–≥—Ä–∞—Ç—å + –†–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ –∑–≤–µ–Ω—å—è–º) -->
                <div id="stage2Section" class="stage-section" style="display: none;">
                    <button id="backToReadyBtn" class="btn btn-secondary" style="margin-bottom: 15px;">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É –≥–æ—Ç–æ–≤—ã—Ö</button>
                    
                    <div class="two-columns-layout">
                        <!-- –ö–æ–ª–æ–Ω–∫–∞ 1: –ì–æ—Ç–æ–≤—ã–µ –∏–≥—Ä–∞—Ç—å (–∫–æ–º–ø–∞–∫—Ç–Ω–∞—è) -->
                        <section class="ready-column-compact">
                            <h2>–ì–æ—Ç–æ–≤—ã–µ –∏–≥—Ä–∞—Ç—å <span id="readyCount2">0/16</span></h2>
                            <div id="readyPlayersList2" class="ready-players-compact">
                                <!-- 16 –∏–≥—Ä–æ–∫–æ–≤ –∫–æ–º–ø–∞–∫—Ç–Ω–æ -->
                            </div>
                        </section>

                        <!-- –ö–æ–ª–æ–Ω–∫–∞ 2: –†–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∞ -->
                        <section class="lineup-column-full">
                            <h2>–†–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∞</h2>
                            <!-- –í—Ä–∞—Ç–∞—Ä—å -->
                            <div class="goalie-section">
                                <h3>–í—Ä–∞—Ç–∞—Ä—å</h3>
                                <div id="goalieSlot" class="lineup-slot goalie-slot">
                                    <!-- –í—Ä–∞—Ç–∞—Ä—å –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
                                </div>
                            </div>
                            <!-- –¢—Ä–∏ –∑–≤–µ–Ω–∞ -->
                            <div id="linesContainer" class="lines-container-full">
                                <!-- –ó–≤–µ–Ω—å—è –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                        </section>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞ -->
    <div id="addPlayerModal" class="modal">
        <div class="modal-content">
            <span class="close" data-modal="addPlayerModal">&times;</span>
            <h2>–î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä–æ–∫–∞</h2>
            <form id="addPlayerForm">
                <div class="form-group">
                    <label for="playerName">–ò–º—è –∏–≥—Ä–æ–∫–∞:</label>
                    <input type="text" id="playerName" required>
                </div>
                <div class="form-group">
                    <label for="playerNumber">–ù–æ–º–µ—Ä:</label>
                    <input type="number" id="playerNumber" min="1" max="99">
                </div>
                <div class="form-group">
                    <label for="playerPosition">–ü–æ–∑–∏—Ü–∏—è:</label>
                    <select id="playerPosition">
                        <option value="–í—Ä–∞—Ç–∞—Ä—å">–í—Ä–∞—Ç–∞—Ä—å</option>
                        <option value="–ó–∞—â–∏—Ç–Ω–∏–∫">–ó–∞—â–∏—Ç–Ω–∏–∫</option>
                        <option value="–ù–∞–ø–∞–¥–∞—é—â–∏–π">–ù–∞–ø–∞–¥–∞—é—â–∏–π</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å</button>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–≥—Ä–æ–∫–∞ -->
    <div id="editPlayerModal" class="modal">
        <div class="modal-content">
            <span class="close" data-modal="editPlayerModal">&times;</span>
            <h2>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–≥—Ä–æ–∫–∞</h2>
            <form id="editPlayerForm">
                <input type="hidden" id="editPlayerId">
                <div class="form-group">
                    <label for="editPlayerName">–ò–º—è –∏–≥—Ä–æ–∫–∞:</label>
                    <input type="text" id="editPlayerName" required>
                </div>
                <div class="form-group">
                    <label for="editPlayerNumber">–ù–æ–º–µ—Ä:</label>
                    <input type="number" id="editPlayerNumber" min="1" max="99">
                </div>
                <div class="form-group">
                    <label for="editPlayerPosition">–ü–æ–∑–∏—Ü–∏—è:</label>
                    <select id="editPlayerPosition">
                        <option value="–í—Ä–∞—Ç–∞—Ä—å">–í—Ä–∞—Ç–∞—Ä—å</option>
                        <option value="–ó–∞—â–∏—Ç–Ω–∏–∫">–ó–∞—â–∏—Ç–Ω–∏–∫</option>
                        <option value="–ù–∞–ø–∞–¥–∞—é—â–∏–π">–ù–∞–ø–∞–¥–∞—é—â–∏–π</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∏–≥—Ä—ã -->
    <div id="deleteGameModal" class="modal">
        <div class="modal-content">
            <span class="close" data-modal="deleteGameModal">&times;</span>
            <h2>–£–¥–∞–ª–∏—Ç—å –∏–≥—Ä—É?</h2>
            <p>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –∏–≥—Ä—É? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.</p>
            <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px;">
                <button class="btn btn-secondary" onclick="closeModal('deleteGameModal')">–û—Ç–º–µ–Ω–∞</button>
                <button id="confirmDeleteGameBtn" class="btn btn-primary" style="background: var(--highlight-color);">–£–¥–∞–ª–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞ -->
    <div id="deletePlayerModal" class="modal">
        <div class="modal-content">
            <span class="close" data-modal="deletePlayerModal">&times;</span>
            <h2>–£–¥–∞–ª–∏—Ç—å –∏–≥—Ä–æ–∫–∞?</h2>
            <p id="deletePlayerMessage">–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –∏–∑ –∫–æ–º–∞–Ω–¥—ã? –û–Ω –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω –∏–∑ –≤—Å–µ—Ö –∏–≥—Ä. –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.</p>
            <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px;">
                <button class="btn btn-secondary" onclick="closeModal('deletePlayerModal')">–û—Ç–º–µ–Ω–∞</button>
                <button id="confirmDeletePlayerBtn" class="btn btn-primary" style="background: var(--highlight-color);">–£–¥–∞–ª–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ JPEG (—Å–∫—Ä—ã—Ç, –Ω–æ –≤–∏–¥–∏–º –¥–ª—è html2canvas) -->
    <div id="exportContainer" style="position: fixed; top: 0; left: 0; width: 2480px; height: 3508px; overflow: hidden; z-index: -1; pointer-events: none;">
        <div id="exportContent" class="export-a4"></div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="app.js"></script>
</body>
</html>